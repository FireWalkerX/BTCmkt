(function(){$(function(){$('#register input[type="button"]').click(function(){var d,c,a,b,e;e=$('#register input[name="user"]');d=$('#register input[name="email"]');a=$('#register input[name="pass"]');c=$('#register input[name="pass_conf"]');b=!0;/^([\w_-]{4,15})$/.test(e.val())||(e.addClass("error"),e.popover({placement:"right",trigger:"focus",title:user_not_valid_title,content:user_not_valid,container:"body"}),b=!1);/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(d.val())||
(d.addClass("error"),d.popover({placement:"right",trigger:"focus",title:email_not_valid_title,content:email_not_valid,container:"body"}),b=!1);/^.*(?=.{8,25})(?=.*\d)(?=.*[a-zA-Z]).*$/.test(a.val())||(a.addClass("error"),a.popover({placement:"right",trigger:"focus",title:pass_not_valid_title,content:pass_not_valid,container:"body"}),b=!1);a.val()!==c.val()&&(c.addClass("error"),b=!1);if(b)return $.post("login/register",{user:e.val(),email:d.val(),pass:a.val()},function(a){return $.each(a,function(a,
c){if("user"===a&&!c)return e.addClass("error"),e.popover({placement:"right",trigger:"focus",title:user_in_use_title,content:user_in_use,container:"body"}),b=!1;if("email"===a&&0!==c)return d.addClass("error"),d.popover({placement:"right",trigger:"focus",title:1===c?email_in_use_title:email_check_error_title,content:1===c?email_in_use:email_check_error,container:"body"}),b=!1})},"json"),alert(b)});$('#login input[type="button"]').click(function(){var d,c,a;a=$('#login input[name="user"]');d=$('#login input[name="pass"]');
c=!0;$.post("login",{user:a.val(),pass:d.val()},function(b){return $.each(b,function(b,f){if("user"===b&&!f)return a.addClass("error"),a.popover({placement:"right",trigger:"focus",title:user_not_exist_title,content:user_not_exist,container:"body"}),c=!1;if("pass"===b&&!f)return d.addClass("error"),d.popover({placement:"right",trigger:"focus",title:incorrect_pass_title,content:incorrect_pass,container:"body"}),c=!1})},"json");return document.location.reload(c)});$('#register input[name="user"], #register input[name="email"], #register input[name="pass"],\t\t#register input[name="pass_conf"], #login input[name="user"], #login input[name="pass"]').focus(function(){return $(this).removeClass("error")});
return $('#register input[name="user"], #register input[name="email"], #register input[name="pass"],\t\t#register input[name="pass_conf"], #login input[name="user"], #login input[name="pass"]').focusout(function(){return $(this).popover("destroy")})})}).call(this);
